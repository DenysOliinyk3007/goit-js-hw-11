{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from 'axios'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst API_KEY = '53125865-ed9f58673896f3ad0b9dfa3df';\n\nexport default function getImagesbyQuery (query){\n    let searchParams = new URLSearchParams({\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true\n    });\n    \n    return axios({\n      method: 'get',\n      url: 'https://pixabay.com/api/?' + searchParams\n    })\n    .then(response => {\n      if (response.data.hits.length !== 0){\n        return response.data.hits;\n      } else{\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!', \n          position: 'topRight'\n        });\n        return [];\n      }\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        message: 'Failed to fetch images!', \n        position: 'topRight'\n      });\n      return [];\n    });\n  }","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst loaderClass = document.querySelector('.loader');\nconst galleryClass = document.querySelector('.gallery');\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function showLoader(){\n  loaderClass.classList.remove('hidden');\n}\n\nexport function removeLoader(){\n  loaderClass.classList.add('hidden');\n}\n\nexport function clearGallery(){\n    galleryClass.innerHTML = '';\n  }\n\n\nexport function createGallery(images){\n    \n    galleryClass.innerHTML = images.map( (el) => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${el.webformatURL}\"\n          alt=\"${el.tags}\"\n          width=\"360\"\n          height=\"200\"\n        />\n      </a>\n      <div class=\"card\">\n        <ul>\n          <li>\n            <p class=\"title\">Likes</p>\n            <p class=\"subtitle\">${el.likes}</p>\n          </li>\n          <li>\n            <p class=\"title\">Views</p>\n            <p class=\"subtitle\">${el.views}</p>\n          </li>\n          <li>\n            <p class=\"title\">Comments</p>\n            <p class=\"subtitle\">${el.comments}</p>\n          </li>\n          <li>\n            <p class=\"title\">Downloads</p>\n            <p class=\"subtitle\">${el.downloads}</p>\n          </li>\n        </ul>\n      </div>\n    </li>`).join('');\n    \n    gallery.refresh();\n  }","import getImagesbyQuery from './js/pixabay-api';\nimport {showLoader, removeLoader, clearGallery, createGallery} from './js/render-functions';\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst btnClass = document.querySelector('.submit-btn');\nconst inputClass = document.querySelector('input[name = \"search-text\"]');\n\n\n\nlet imageData = [];\n\nbtnClass.addEventListener('click', (evt) => {\n  evt.preventDefault();\n  \n  const query = inputClass.value.trim();\n  \n  if (!query){\n    clearGallery();\n    iziToast.error({message: 'Please enter some text!', position: 'topRight'});\n    return;\n  }\n  \n  clearGallery();\n  showLoader();\n  \n  getImagesbyQuery(query)\n    .then(images => {\n      removeLoader();\n      \n      if (images && images.length > 0) {\n        imageData = images;\n        createGallery(imageData);\n      }\n    })\n    .catch(error => {\n      removeLoader();\n      console.log(error);\n    });\n});\n\n\n\n\n"],"names":["API_KEY","getImagesbyQuery","query","searchParams","axios","response","iziToast","error","loaderClass","galleryClass","gallery","SimpleLightbox","showLoader","removeLoader","clearGallery","createGallery","images","el","btnClass","inputClass","imageData","evt"],"mappings":"owBAKA,MAAMA,EAAU,qCAED,SAASC,EAAkBC,EAAM,CAC5C,IAAIC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EAED,OAAOE,EAAM,CACX,OAAQ,MACR,IAAK,4BAA8BD,CACzC,CAAK,EACA,KAAKE,GACAA,EAAS,KAAK,KAAK,SAAW,EACzBA,EAAS,KAAK,MAErBC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EACM,GAEV,EACA,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACjBD,EAAS,MAAM,CACb,QAAS,0BACT,SAAU,UAClB,CAAO,EACM,GACR,CACL,CCnCA,MAAME,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAe,SAAS,cAAc,UAAU,EAEtD,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,GAAY,CAC1BJ,EAAY,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASK,GAAc,CAC5BL,EAAY,UAAU,IAAI,QAAQ,CACpC,CAEO,SAASM,GAAc,CAC1BL,EAAa,UAAY,EAC1B,CAGI,SAASM,EAAcC,EAAO,CAEjCP,EAAa,UAAYO,EAAO,IAAMC,GAAO;AAAA,sCACXA,EAAG,aAAa;AAAA;AAAA;AAAA,iBAGrCA,EAAG,YAAY;AAAA,iBACfA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCASUA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIXA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,UAIpC,EAAE,KAAK,EAAE,EAEfP,EAAQ,QAAO,CACnB,CCnDA,MAAMQ,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAa,SAAS,cAAc,6BAA6B,EAIvE,IAAIC,EAAY,CAAA,EAEhBF,EAAS,iBAAiB,QAAUG,GAAQ,CAC1CA,EAAI,eAAc,EAElB,MAAMnB,EAAQiB,EAAW,MAAM,KAAI,EAEnC,GAAI,CAACjB,EAAM,CACTY,IACAR,EAAS,MAAM,CAAC,QAAS,0BAA2B,SAAU,UAAU,CAAC,EACzE,MACD,CAEDQ,IACAF,IAEAX,EAAiBC,CAAK,EACnB,KAAKc,GAAU,CACdH,IAEIG,GAAUA,EAAO,OAAS,IAC5BI,EAAYJ,EACZD,EAAcK,CAAS,EAE/B,CAAK,EACA,MAAMb,GAAS,CACdM,IACA,QAAQ,IAAIN,CAAK,CACvB,CAAK,CACL,CAAC"}